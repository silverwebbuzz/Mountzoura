{"version":3,"file":"ngx-auth-firebaseui.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://ngx-auth-firebaseui/lib/enums/accounts.enum.ts","ng://ngx-auth-firebaseui/lib/services/firestore-sync.service.ts","ng://ngx-auth-firebaseui/lib/tokens/index.ts","ng://ngx-auth-firebaseui/lib/services/auth-process.service.ts","ng://ngx-auth-firebaseui/lib/components/email-confirmation/email-confirmation.component.ts","ng://ngx-auth-firebaseui/lib/components/legality-dialog/legality-dialog.component.ts","ng://ngx-auth-firebaseui/lib/animations/index.ts","ng://ngx-auth-firebaseui/lib/components/ngx-auth-firebaseui/auth.component.ts","ng://ngx-auth-firebaseui/lib/components/ngx-auth-firebaseui-avatar/ngx-auth-firebaseui-avatar.component.ts","ng://ngx-auth-firebaseui/lib/components/ngx-auth-firebaseui-login/ngx-auth-firebaseui-login.component.ts","ng://ngx-auth-firebaseui/lib/components/ngx-auth-firebaseui-register/ngx-auth-firebaseui-register.component.ts","ng://ngx-auth-firebaseui/lib/components/ngx-auth-firebaseui-user/user.component.ts","ng://ngx-auth-firebaseui/lib/components/providers/auth.providers.component.ts","ng://ngx-auth-firebaseui/lib/interfaces/config.interface.ts","ng://ngx-auth-firebaseui/lib/guards/logged-in.guard.ts","ng://ngx-auth-firebaseui/lib/ngx-auth-firebaseui.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export enum Accounts {\n  NONE = 'account',\n  CHECK = 'account-check',\n  EDIT = 'account-edit',\n  OFF = 'account-off',\n  REMOVE = 'account-remove',\n}\n","import {Injectable} from '@angular/core';\nimport {AngularFirestore, AngularFirestoreDocument} from '@angular/fire/firestore';\nimport {UserInfo} from 'firebase';\n\nexport const collections = {\n  users: 'users',\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FirestoreSyncService {\n\n  constructor(public afs: AngularFirestore) {\n    // this.afs.firestore.settings({timestampsInSnapshots: true});\n  }\n\n  // get timestamp() {\n  //     return firebase.firestore.FieldValue.serverTimestamp();\n  // }\n\n  public getUserDocRefByUID(uid: string): AngularFirestoreDocument<UserInfo> {\n    return this.afs.doc(`${collections.users}/${uid}`);\n  }\n\n  public deleteUserData(uid: string): Promise<any> {\n    const userRef: AngularFirestoreDocument<UserInfo> = this.getUserDocRefByUID(uid);\n    return userRef.delete();\n  }\n\n\n  public updateUserData(user: UserInfo): Promise<any> {\n    // Sets user$ data to firestore on login\n    const userRef: AngularFirestoreDocument<UserInfo> = this.getUserDocRefByUID(user.uid);\n    const data: UserInfo = {\n      uid: user.uid,\n      email: user.email,\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      phoneNumber: user.phoneNumber,\n      providerId: user.providerId\n    };\n    return userRef.set(data, {merge: true});\n  }\n}\n","// This token is the official token containing the final configuration; ie. the merge between default and user provided configurations\nimport {InjectionToken} from '@angular/core';\nimport {NgxAuthFirebaseUIConfig} from '../interfaces';\n\nexport const NgxAuthFirebaseUIConfigToken = new InjectionToken<NgxAuthFirebaseUIConfig>('NgxAuthFirebaseUIConfigToken');\n// This is an intermediate token containing only user-provided configuration\nexport const UserProvidedConfigToken = new InjectionToken<NgxAuthFirebaseUIConfig>('UserProvidedConfigToken');\n","import { EventEmitter, forwardRef, Inject, Injectable } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { firebase } from '@firebase/app';\nimport '@firebase/auth';\nimport { User, UserInfo } from 'firebase/app';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\nimport { Accounts } from '../enums';\nimport { FirestoreSyncService } from './firestore-sync.service';\nimport { MAT_SNACK_BAR_DEFAULT_OPTIONS, MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { ICredentials, ISignInProcess, ISignUpProcess, NgxAuthFirebaseUIConfig } from '../interfaces';\nimport { NgxAuthFirebaseUIConfigToken } from '../tokens';\nimport UserCredential = firebase.auth.UserCredential;\n\nexport const facebookAuthProvider = new firebase.auth.FacebookAuthProvider();\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\nexport const appleAuthProvider = new firebase.auth.OAuthProvider('apple.com');\nexport const twitterAuthProvider = new firebase.auth.TwitterAuthProvider();\nexport const githubAuthProvider = new firebase.auth.GithubAuthProvider();\nexport const microsoftAuthProvider = new firebase.auth.OAuthProvider('microsoft.com');\nexport const yahooAuthProvider = new firebase.auth.OAuthProvider('yahoo.com');\n\nexport enum AuthProvider {\n  ALL = 'all',\n  ANONYMOUS = 'anonymous',\n  EmailAndPassword = 'firebase',\n  Google = 'google',\n  Apple = 'apple',\n  Facebook = 'facebook',\n  Twitter = 'twitter',\n  Github = 'github',\n  Microsoft = 'microsoft',\n  Yahoo = 'yahoo',\n  PhoneNumber = 'phoneNumber'\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthProcessService implements ISignInProcess, ISignUpProcess {\n  onSuccessEmitter: EventEmitter<any> = new EventEmitter<any>();\n  onErrorEmitter: EventEmitter<any> = new EventEmitter<any>();\n\n  // Useful to know about auth state even between reloads.\n  // Replace emailConfirmationSent and emailToConfirm.\n  private _user$ = new BehaviorSubject<firebase.User | null>(null);\n  get user$(): Observable<firebase.User | null> {\n    return this._user$.asObservable();\n  }\n\n  /**\n   * @deprecated access via user$ asynchronously instead\n   */\n  user: User;\n\n  messageOnAuthSuccess: string;\n  messageOnAuthError: string;\n\n  // Legacy field that is set to true after sign up.\n  // Value is lost in case of reload. The idea here is to know if we just sent a verification email.\n  emailConfirmationSent: boolean;\n  // Legacy filed that contain the mail to confirm. Same lifecycle than emailConfirmationSent.\n  emailToConfirm: string;\n\n  constructor(\n    public afa: AngularFireAuth,\n    @Inject(forwardRef(() => NgxAuthFirebaseUIConfigToken)) public config: NgxAuthFirebaseUIConfig,\n    private snackBar: MatSnackBar,\n    private fireStoreService: FirestoreSyncService,\n    @Inject(MAT_SNACK_BAR_DEFAULT_OPTIONS) private matSnackBarConfig: MatSnackBarConfig\n  ) {\n  }\n\n  listenToUserEvents() {\n    this.afa.user.subscribe((user: firebase.User | null) => {\n      this._user$.next(user);\n      this.user = user;\n    });\n  }\n\n  /**\n   * Reset the password of the ngx-auth-firebaseui-user via email\n   *\n   * @param email - the email to reset\n   */\n  public async resetPassword(email: string): Promise<void> {\n    try {\n      console.log('Password reset email sent');\n      return await this.afa.sendPasswordResetEmail(email);\n    } catch (error) {\n      return this.notifyError(error);\n    }\n  }\n\n  /**\n   * General sign in mechanism to authenticate the users with a firebase project\n   * using a traditional way, via username and password or by using an authentication provider\n   * like google, facebook, twitter and github\n   *\n   * @param provider - the provider to authenticate with (google, facebook, twitter, github)\n   * @param credentials optional email and password\n   */\n  public async signInWith(provider: AuthProvider, credentials?: ICredentials) {\n    try {\n      let signInResult: UserCredential | any;\n\n      switch (provider) {\n        case AuthProvider.ANONYMOUS:\n          signInResult = await this.afa.signInAnonymously() as UserCredential;\n          break;\n\n        case AuthProvider.EmailAndPassword:\n          signInResult = await this.afa.signInWithEmailAndPassword(credentials.email, credentials.password) as UserCredential;\n          break;\n\n        case AuthProvider.Google:\n          signInResult = await this.afa.signInWithPopup(googleAuthProvider) as UserCredential;\n          break;\n\n        case AuthProvider.Apple:\n          signInResult = await this.afa.signInWithPopup(appleAuthProvider) as UserCredential;\n          break;\n\n        case AuthProvider.Facebook:\n          signInResult = await this.afa.signInWithPopup(facebookAuthProvider) as UserCredential;\n          break;\n\n        case AuthProvider.Twitter:\n          signInResult = await this.afa.signInWithPopup(twitterAuthProvider) as UserCredential;\n          break;\n\n        case AuthProvider.Github:\n          signInResult = await this.afa.signInWithPopup(githubAuthProvider) as UserCredential;\n          break;\n\n        case AuthProvider.Microsoft:\n          signInResult = await this.afa.signInWithPopup(microsoftAuthProvider) as UserCredential;\n          break;\n\n        case AuthProvider.Yahoo:\n          signInResult = await this.afa.signInWithPopup(yahooAuthProvider) as UserCredential;\n          break;\n\n        case AuthProvider.PhoneNumber:\n          // coming soon - see feature/sms branch\n          break;\n\n        default:\n          throw new Error(`${AuthProvider[provider]} is not available as auth provider`);\n      }\n      await this.handleSuccess(signInResult);\n    } catch (err) {\n      this.handleError(err);\n    }\n  }\n\n  /**\n   * Sign up new users via email and password.\n   * After that the ngx-auth-firebaseui-user should verify and confirm an email sent via the firebase\n   *\n   * @param displayName - the displayName if the new ngx-auth-firebaseui-user\n   * @param credentials email and password\n   * @returns -\n   */\n  public async signUp(displayName: string, credentials: ICredentials) {\n    try {\n      const userCredential: UserCredential = await this.afa.createUserWithEmailAndPassword(credentials.email, credentials.password);\n      const user = userCredential.user;\n      await this.updateProfile(displayName, user.photoURL);\n\n      if (this.config.enableFirestoreSync) {\n        await this.fireStoreService\n          .getUserDocRefByUID(user.uid)\n          .set({\n            uid: user.uid,\n            displayName,\n            email: user.email,\n            photoURL: user.photoURL\n          } as User);\n      }\n\n      if (this.config.enableEmailVerification) {\n        await user.sendEmailVerification();\n      }\n\n      // Legacy fields\n      this.emailConfirmationSent = true;\n      this.emailToConfirm = credentials.email;\n\n      await this.handleSuccess(userCredential);\n    } catch (err) {\n      this.handleError(err);\n    }\n  }\n\n  async sendNewVerificationEmail(): Promise<void | never> {\n    if (!this.user) {\n      return Promise.reject(new Error('No signed in user'));\n    }\n    return this.user.sendEmailVerification();\n  }\n\n  async signOut() {\n    try {\n      await this.afa.signOut();\n    } catch (error) {\n      this.notifyError(error);\n    }\n  }\n\n  /**\n   * Update the profile (name + photo url) of the authenticated ngx-auth-firebaseui-user in the\n   * firebase authentication feature (not in firestore)\n   *\n   * @param name - the new name of the authenticated ngx-auth-firebaseui-user\n   * @param photoURL - the new photo url of the authenticated ngx-auth-firebaseui-user\n   * @returns -\n   */\n  public updateProfile(name: string, photoURL: string): Promise<void> {\n    return this.afa.currentUser.then((user: User) => {\n      if (!photoURL) {\n        return user.updateProfile({displayName: name});\n      } else {\n        return user.updateProfile({displayName: name, photoURL});\n      }\n    });\n  }\n\n  public parseUserInfo(user: User): UserInfo {\n    return {\n      uid: user.uid,\n      displayName: user.displayName,\n      email: user.email,\n      phoneNumber: user.phoneNumber,\n      photoURL: user.photoURL,\n      providerId: user.providerData.length > 0 ? user.providerData[0].providerId : null\n    };\n  }\n\n  public getUserPhotoUrl(): Observable<string | null> {\n    return this._user$.pipe(\n      map((user: firebase.User | null) => {\n        if (!user) {\n          return null;\n        } else if (user.photoURL) {\n          return user.photoURL;\n        } else if (user.emailVerified) {\n          return this.getPhotoPath(Accounts.CHECK);\n        } else if (user.isAnonymous) {\n          return this.getPhotoPath(Accounts.OFF);\n        } else {\n          return this.getPhotoPath(Accounts.NONE);\n        }\n      })\n    );\n  }\n\n  public getPhotoPath(image: string): string {\n    return `assets/user/${image}.svg`;\n  }\n\n  public signInWithPhoneNumber() {\n    // todo: 3.1.18\n  }\n\n  async handleSuccess(userCredential: UserCredential) {\n    this.onSuccessEmitter.next(userCredential.user);\n    if (this.config.enableFirestoreSync) {\n      try {\n        await this.fireStoreService.updateUserData(this.parseUserInfo(userCredential.user));\n      } catch (e) {\n        console.error(`Error occurred while updating user data with firestore: ${e}`);\n      }\n    }\n    if (this.config.toastMessageOnAuthSuccess) {\n      const fallbackMessage = `Hello ${userCredential.user.displayName ? userCredential.user.displayName : ''}!`;\n      this.showToast(this.messageOnAuthSuccess || fallbackMessage);\n    }\n  }\n\n  handleError(error: any) {\n    this.notifyError(error);\n    console.error(error);\n  }\n\n  // Refresh user info. Can be useful for instance to get latest status regarding email verification.\n  reloadUserInfo() {\n    return this._user$.pipe(take(1)).subscribe((user: User | null) => user && user.reload());\n  }\n\n  // Search for an error message.\n  // Consumers of this library are given the possibility to provide a\n  // function in case they want to instrument message based on error properties.\n  getMessageOnAuthError(error: any) {\n    // tslint:disable-next-line:no-bitwise\n    return error.toString() || 'Sorry, something went wrong. Please retry later.';\n  }\n\n  // Show a toast using current snackbar config. If message is empty, no toast is displayed allowing to opt-out when needed.\n  // Default MatSnackBarConfig has no duration, meaning it stays visible forever.\n  // If that's the case, an action button is added to allow the end-user to dismiss the toast.\n  showToast(message: string) {\n    if (message) {\n      this.snackBar.open(message, this.matSnackBarConfig.duration ? null : 'OK');\n    }\n  }\n\n  showErrorToast(error: any) {\n    if (this.config.toastMessageOnAuthError) {\n      this.showToast(this.getMessageOnAuthError(error));\n    }\n  }\n\n  notifyError(error: any) {\n    this.onErrorEmitter.emit(error);\n    this.showErrorToast(error);\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AuthProcessService} from '../../services/auth-process.service';\n\ninterface VerifyEmailContext {\n  email: string;\n  goBackURL: string;\n  verifyEmailTitleText: string;\n  verifyEmailConfirmationText: string;\n  verifyEmailGoBackText: string;\n  messageOnEmailConfirmationSuccess: string;\n  messageOnError: string;\n}\n\nconst defaultTranslations = {\n  verifyEmailTitleText: 'Confirm your e-mail address!',\n  verifyEmailConfirmationText: 'A confirmation e-mail has been sent.' +\n    ' Check your inbox and click on the link \"Confirm my e-mail\" to confirm your e-mail address.',\n  verifyEmailGoBackText: 'Go back',\n  sendNewVerificationEmailText: 'Send new confirmation e-mail',\n  signOutText: 'Sign out',\n  messageOnEmailConfirmationSuccess: 'A new confirmation e-mail has been sent. Please check your inbox.',\n};\n\n@Component({\n  selector: 'ngx-auth-firebaseui-email-confirmation',\n  templateUrl: './email-confirmation.component.html',\n  styleUrls: ['./email-confirmation.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class EmailConfirmationComponent implements OnInit, OnChanges {\n\n  @Input() email: string;\n  @Input() goBackURL: string;\n  // i18n translations to use in default template\n  @Input() verifyEmailTitleText: string;\n  @Input() verifyEmailConfirmationText: string;\n  @Input() verifyEmailGoBackText: string;\n  @Input() sendNewVerificationEmailText: string;\n  @Input() signOutText: string;\n  @Input() messageOnEmailConfirmationSuccess: string;\n\n  // Template to use in place of default template\n  @Input() template: TemplateRef<any>;\n\n  @Output() signOut = new EventEmitter();\n\n  // Final template\n  verifyEmailTemplate: TemplateRef<any>;\n  // Context hash to use for verifyEmailTemplate.\n  verifyEmailContext: VerifyEmailContext;\n\n  isLoading: boolean;\n\n  @ViewChild('defaultVerifyEmail', {static: true}) defaultTemplate: TemplateRef<any>;\n\n  constructor(public authProcess: AuthProcessService, private router: Router, private changeDetectorRef: ChangeDetectorRef) {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.verifyEmailTemplate && changes.verifyEmailTemplate.currentValue == null) {\n      this.verifyEmailTemplate = this.defaultTemplate;\n      console.log('ngOnChanges - defaultTemplate:', this.verifyEmailTemplate);\n    }\n    this.verifyEmailContext = this.createTemplateContext();\n  }\n\n  ngOnInit(): void {\n    if (!this.verifyEmailTemplate) {\n      console.log('ngOnInit - defaultTemplate');\n      this.verifyEmailTemplate = this.defaultTemplate;\n    }\n    this.verifyEmailContext = this.createTemplateContext();\n    console.log('verifyEmailTemplate:', this.verifyEmailTemplate);\n    console.log('verifyEmailContext:', this.verifyEmailContext);\n  }\n\n  async continue() {\n    try {\n      await this.authProcess.reloadUserInfo();\n      await this.router.navigate([this.goBackURL]);\n    } catch (error) {\n      this.authProcess.notifyError(error);\n    }\n  }\n\n  async sendNewVerificationEmail() {\n    try {\n      this.isLoading = true;\n      this.changeDetectorRef.markForCheck();\n      await this.authProcess.sendNewVerificationEmail();\n      this.authProcess.showToast(this.verifyEmailContext.messageOnEmailConfirmationSuccess);\n    } catch (error) {\n      this.authProcess.notifyError(error);\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n\n  private createTemplateContext(): any {\n    return {\n      email: this.email,\n      goBackURL: this.goBackURL,\n      verifyEmailTitleText: this.verifyEmailTitleText || defaultTranslations.verifyEmailTitleText,\n      verifyEmailConfirmationText: this.verifyEmailConfirmationText || defaultTranslations.verifyEmailConfirmationText,\n      verifyEmailGoBackText: this.verifyEmailGoBackText || defaultTranslations.verifyEmailGoBackText,\n      sendNewVerificationEmailText: this.sendNewVerificationEmailText || defaultTranslations.sendNewVerificationEmailText,\n      signOutText: this.signOutText || defaultTranslations.signOutText,\n      messageOnEmailConfirmationSuccess: this.messageOnEmailConfirmationSuccess || defaultTranslations.messageOnEmailConfirmationSuccess\n    };\n  }\n}\n","import {Component, Inject} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {LegalityDialogParams, LegalityDialogResult} from '../../interfaces';\n\n@Component({\n  selector: 'ngx-auth-firebaseui-legality-dialog',\n  templateUrl: './legality-dialog.component.html',\n  styleUrls: ['./legality-dialog.component.scss']\n})\nexport class LegalityDialogComponent {\n\n  checkTOS: boolean;\n  checkPrivacyPolicy: boolean;\n\n  constructor(public dialogRef: MatDialogRef<LegalityDialogComponent>,\n              @Inject(MAT_DIALOG_DATA) public data: LegalityDialogParams) {\n  }\n\n  // tslint:disable-next-line:variable-name\n  private _disableConfirmActionButton = false;\n\n  get disableConfirmActionButton(): boolean {\n    if (this.data.tosUrl && this.data.privacyPolicyUrl) {\n      this._disableConfirmActionButton = !(this.checkTOS && this.checkPrivacyPolicy);\n    } else if (this.data.tosUrl && !this.data.privacyPolicyUrl) {\n      this._disableConfirmActionButton = !this.checkTOS;\n    } else if (!this.data.tosUrl && this.data.privacyPolicyUrl) {\n      this._disableConfirmActionButton = !this.checkPrivacyPolicy;\n    }\n    return this._disableConfirmActionButton;\n  }\n\n  closeDialog() {\n    const result: LegalityDialogResult = {\n      checked: !this.disableConfirmActionButton,\n      authProvider: this.data.authProvider\n    };\n    this.dialogRef.close(result);\n  }\n\n}\n","import {animate, animateChild, animation, query, stagger, state, style, transition, trigger, useAnimation} from '@angular/animations';\n\nconst customAnimation = animation(\n  [\n    style({\n      opacity: '{{opacity}}',\n      transform: 'scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})'\n    }),\n    animate('{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)', style('*'))\n  ],\n  {\n    params: {\n      duration: '200ms',\n      delay: '0ms',\n      opacity: '0',\n      scale: '1',\n      x: '0',\n      y: '0',\n      z: '0'\n    }\n  }\n);\n\nexport const NgxAuthFirebaseuiAnimations = [\n  trigger('animate', [transition('void => *', [useAnimation(customAnimation)])]),\n\n  trigger('animateStagger', [\n    state('50', style('*')),\n    state('100', style('*')),\n    state('200', style('*')),\n\n    transition('void => 50', query('@*', [stagger('50ms', [animateChild()])], {optional: true})),\n    transition('void => 100', query('@*', [stagger('100ms', [animateChild()])], {optional: true})),\n    transition('void => 200', query('@*', [stagger('200ms', [animateChild()])], {optional: true}))\n  ]),\n];\n","import {isPlatformBrowser} from '@angular/common';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  PLATFORM_ID,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {AbstractControl, FormControl, FormGroup, Validators} from '@angular/forms';\n\n// ANGULAR MATERIAL\nimport {MatTabChangeEvent, MatTabGroup} from '@angular/material/tabs';\nimport {ThemePalette} from '@angular/material/core';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {MatFormFieldAppearance} from '@angular/material/form-field';\n\n// ANGULAR FIRE\nimport {AngularFireAuth} from '@angular/fire/auth';\n\n// Third PARTY\nimport {MatPasswordStrengthComponent} from '@angular-material-extensions/password-strength';\n\n// RXJS\nimport {Subscription} from 'rxjs';\n\nimport {LegalityDialogComponent, Theme} from '..';\nimport {LegalityDialogParams, LegalityDialogResult, NgxAuthFirebaseUIConfig} from '../../interfaces';\nimport { AuthProcessService, AuthProvider} from '../../services/auth-process.service';\nimport {NgxAuthFirebaseuiAnimations} from '../../animations';\nimport {NgxAuthFirebaseUIConfigToken} from '../../tokens';\n\n\nexport const EMAIL_REGEX = new RegExp(['^(([^<>()[\\\\]\\\\\\.,;:\\\\s@\\\"]+(\\\\.[^<>()\\\\[\\\\]\\\\\\.,;:\\\\s@\\\"]+)*)',\n  '|(\".+\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.',\n  '[0-9]{1,3}\\])|(([a-zA-Z\\\\-0-9]+\\\\.)+',\n  '[a-zA-Z]{2,}))$'].join(''));\n\n// tslint:disable-next-line:max-line-length\nexport const PHONE_NUMBER_REGEX = new RegExp(['^[+]{0,1}[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\\\s\\\\.]{0,1}[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\\\s\\\\./0-9]{4,12}$'].join(''));\n\n@Component({\n  selector: 'ngx-auth-firebaseui',\n  templateUrl: 'auth.component.html',\n  styleUrls: ['auth.component.scss'],\n  animations: NgxAuthFirebaseuiAnimations,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AuthComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n\n  @ViewChild(MatTabGroup, {static: false}) matTabGroup: MatTabGroup;\n  @ViewChild(MatPasswordStrengthComponent, {static: false}) passwordStrength: MatPasswordStrengthComponent;\n\n  isLoading: boolean;\n  //  google, facebook, twitter, github as array or all as one single string\n  @Input() providers: AuthProvider[] | AuthProvider = AuthProvider.ALL;\n  @Input() providersTheme: Theme; // Classic, Stroked, etc.\n\n  @Input() appearance: MatFormFieldAppearance;\n  @Input() tabIndex: number | null;\n  @Input() registrationEnabled = true;\n  @Input() resetPasswordEnabled = true;\n  @Input() guestEnabled = true;\n  @Input() tosUrl: string;\n  @Input() privacyPolicyUrl: string;\n  @Input() goBackURL: string;\n  @Input() messageOnAuthSuccess: string;\n  @Input() messageOnAuthError: string;\n  @Input() messageOnEmailConfirmationSuccess: string;\n\n  // Events\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onSuccess: any;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onError: any;\n  @Output() selectedTabChange: EventEmitter<MatTabChangeEvent> = new EventEmitter();\n\n  // Password strength api\n  @Input() enableLengthRule = true;\n  @Input() enableLowerCaseLetterRule = true;\n  @Input() enableUpperCaseLetterRule = true;\n  @Input() enableDigitRule = true;\n  @Input() enableSpecialCharRule = true;\n  @Input() min: number;\n  @Input() max: number;\n  @Input() customValidator: RegExp;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onStrengthChanged: EventEmitter<number> = new EventEmitter();\n\n  // Verify email template to use in place of default template.\n  // See email-confirmation component\n  @Input() verifyEmailTemplate: TemplateRef<any>;\n\n  // i18n translations to use in default template for email verification.\n  // See email-confirmation component\n  @Input() verifyEmailTitleText: string;\n  @Input() verifyEmailConfirmationText: string;\n  @Input() verifyEmailGoBackText: string;\n  @Input() sendNewVerificationEmailText: string;\n  @Input() signOutText = 'Sign out';\n\n  // Customize the text\n  // Reset Password Tab\n  @Input() resetPasswordTabText = 'Reset e-mail address to password';\n  @Input() resetPasswordInputText = 'Reset e-mail address to password';\n  @Input() resetPasswordErrorRequiredText = 'E-mail is required to reset the password!';\n  @Input() resetPasswordErrorPatternText = 'Please enter a valid e-mail address';\n  @Input() resetPasswordActionButtonText = 'Reset';\n  @Input() resetPasswordInstructionsText = 'Reset requested. Check your e-mail instructions.';\n\n  // SignIn Tab\n  @Input() signInTabText = 'Sign in';\n  @Input() signInCardTitleText = 'Signing in';\n  @Input() loginButtonText = 'Log In';\n  @Input() forgotPasswordButtonText = 'Forgot Password ?';\n\n  // Common\n  @Input() nameText = 'Name';\n  @Input() nameErrorRequiredText = 'Name is required';\n  @Input() nameErrorMinLengthText = 'The name is too short!';\n  @Input() nameErrorMaxLengthText = 'The name is too long!';\n\n  @Input() emailText = 'E-mail';\n  @Input() emailErrorRequiredText = 'E-mail is required';\n  @Input() emailErrorPatternText = 'Please enter a valid e-mail address';\n\n  @Input() passwordText = 'Password';\n  @Input() passwordErrorRequiredText = 'Password is required';\n  @Input() passwordErrorMinLengthText = 'The password is too short!';\n  @Input() passwordErrorMaxLengthText = 'The password is too long!';\n\n  // Register Tab\n  @Input() registerTabText = 'Register';\n  @Input() registerCardTitleText = 'Registration';\n  @Input() registerButtonText = 'Register';\n  @Input() guestButtonText = 'continue as guest';\n\n  // email confirmation component\n  @Input() emailConfirmationTitle = 'Confirm your e-mail address!';\n  // tslint:disable-next-line:max-line-length\n  @Input() emailConfirmationText = `A confirmation e-mail has been sent to you. Check your inbox and click on the link \"Confirm my e-mail\" to confirm your e-mail address.`;\n\n  authProvider = AuthProvider;\n  passwordResetWished: boolean;\n\n  public signInFormGroup: FormGroup;\n  public signUpFormGroup: FormGroup;\n  public resetPasswordFormGroup: FormGroup;\n\n  onErrorSubscription: Subscription;\n  authenticationError = false;\n\n  passReset = false;\n  dialogRef: MatDialogRef<LegalityDialogComponent>;\n\n  authProviders = AuthProvider;\n\n  signInEmailFormControl: AbstractControl;\n  sigInPasswordFormControl: AbstractControl;\n\n  sigUpNameFormControl: AbstractControl;\n  sigUpEmailFormControl: AbstractControl;\n  sigUpPasswordFormControl: AbstractControl;\n  sigUpPasswordConfirmationFormControl: AbstractControl;\n  resetPasswordEmailFormControl: AbstractControl;\n\n  constructor(\n    // tslint:disable-next-line:ban-types\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Inject(forwardRef(() => NgxAuthFirebaseUIConfigToken)) public config: NgxAuthFirebaseUIConfig,\n    public auth: AngularFireAuth,\n    public authProcess: AuthProcessService,\n    public dialog: MatDialog,\n    private activatedRoute: ActivatedRoute,\n    private changeDetectorRef: ChangeDetectorRef\n  ) {\n    this.onSuccess = authProcess.onSuccessEmitter;\n    this.onError = authProcess.onErrorEmitter;\n  }\n\n  get color(): string | ThemePalette {\n    return this.authenticationError ? 'warn' : 'primary';\n  }\n\n  public ngOnInit(): void {\n    if (isPlatformBrowser(this.platformId)) {\n      this.onErrorSubscription = this.onError.subscribe(() => this.authenticationError = true);\n    }\n    this.min = this.min != null ? Math.max(this.min, this.config.passwordMinLength) : this.config.passwordMinLength;\n    this.max = this.max != null ? Math.min(this.max, this.config.passwordMaxLength) : this.config.passwordMaxLength;\n\n    this.goBackURL = this.chooseBackUrl();\n\n    this.updateAuthSnackbarMessages();\n    // auth form's initialization\n    this._initSignInFormGroupBuilder();\n    this._initSignUpFormGroupBuilder();\n    this._initResetPasswordFormGroupBuilder();\n  }\n\n  ngAfterViewInit(): void {\n    if (this.passwordStrength) {\n      this.passwordStrength.onStrengthChanged.subscribe((strength: number) => {\n        this.onStrengthChanged.emit(strength);\n      });\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.messageOnAuthSuccess || changes.messageOnAuthError) {\n      this.updateAuthSnackbarMessages();\n    }\n    if (changes.min) {\n      this.min = this.min != null ? Math.max(this.min, this.config.passwordMinLength) : this.config.passwordMinLength;\n    }\n    if (changes.max) {\n      this.max = this.max != null ? Math.min(this.max, this.config.passwordMaxLength) : this.config.passwordMaxLength;\n    }\n    if (changes.goBackURL) {\n      this.goBackURL = this.chooseBackUrl();\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.onErrorSubscription) {\n      this.onErrorSubscription.unsubscribe();\n    }\n  }\n\n  onTabChange(event: MatTabChangeEvent) {\n    this.selectedTabChange.emit(event);\n    this.tabIndex = event.index;\n  }\n\n  async signOut() {\n    try {\n      this.isLoading = true;\n      this.changeDetectorRef.markForCheck();\n      await this.authProcess.signOut();\n    } finally {\n      this.isLoading = false;\n      this.tabIndex = 0;\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n\n  async signIn() {\n    if (!this.signInFormGroup.valid) {\n      return;\n    }\n    try {\n      this.isLoading = true;\n      this.changeDetectorRef.markForCheck();\n      await this.authProcess.signInWith(this.authProviders.EmailAndPassword, {\n        email: this.signInFormGroup.value.email,\n        password: this.signInFormGroup.value.password\n      });\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n\n  updateAuthSnackbarMessages(): void {\n    this.authProcess.messageOnAuthSuccess = this.messageOnAuthSuccess;\n    this.authProcess.messageOnAuthError = this.messageOnAuthError;\n  }\n\n  createForgotPasswordTab() {\n    this.passwordResetWished = true;\n    this.tabIndex = 2;\n    this.changeDetectorRef.markForCheck();\n  }\n\n  processLegalSignUP(authProvider?: AuthProvider) {\n    if (this.tosUrl || this.privacyPolicyUrl) {\n      const params: LegalityDialogParams = {\n        tosUrl: this.tosUrl,\n        privacyPolicyUrl: this.privacyPolicyUrl,\n        authProvider\n      };\n\n      this.dialogRef = this.dialog.open(LegalityDialogComponent, {data: params});\n      this.dialogRef.afterClosed().subscribe((result: LegalityDialogResult) => {\n        if (result && result.checked) {\n          this._afterSignUpMiddleware(result.authProvider).then(() => this.signUpFormGroup.reset());\n        }\n        this.dialogRef = null;\n      });\n    } else {\n      this._afterSignUpMiddleware(authProvider).then(() => this.signUpFormGroup.reset());\n    }\n  }\n\n  async signUp() {\n    try {\n      this.isLoading = true;\n      this.changeDetectorRef.markForCheck();\n      return await this.authProcess.signUp(\n        this.signUpFormGroup.value.name,\n        {\n          email: this.signUpFormGroup.value.email,\n          password: this.signUpFormGroup.value.password\n        }\n      );\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n\n  async signUpAnonymously() {\n    try {\n      this.isLoading = true;\n      this.changeDetectorRef.markForCheck();\n      await this.authProcess.signInWith(this.authProvider.ANONYMOUS);\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n\n\n  resetPassword() {\n    this.authProcess.resetPassword(this.resetPasswordEmailFormControl.value)\n      .then(() => {\n        this.passReset = true;\n        // this.tabIndex = 2;\n        this.changeDetectorRef.markForCheck();\n      });\n  }\n\n  private chooseBackUrl() {\n    return this.activatedRoute.snapshot.queryParams.redirectUrl || this.goBackURL || '/';\n  }\n\n  private _initSignInFormGroupBuilder() {\n    this.signInFormGroup = new FormGroup({});\n    this.signInFormGroup.registerControl('email', this.signInEmailFormControl = new FormControl('',\n      [\n        Validators.required,\n        Validators.pattern(EMAIL_REGEX)\n      ]));\n    this.signInFormGroup.registerControl('password', this.sigInPasswordFormControl = new FormControl('',\n      [\n        Validators.required,\n        Validators.minLength(this.min),\n        Validators.maxLength(this.max)\n      ]));\n  }\n\n  private _initSignUpFormGroupBuilder() {\n    this.signUpFormGroup = new FormGroup({\n      name: this.sigUpNameFormControl = new FormControl('',\n        [\n          Validators.required,\n          Validators.minLength(this.config.nameMinLength),\n          Validators.maxLength(this.config.nameMaxLength)\n        ]),\n      email: this.sigUpEmailFormControl = new FormControl('',\n        [\n          Validators.required,\n          Validators.pattern(EMAIL_REGEX)\n        ]),\n      password: this.sigUpPasswordFormControl = new FormControl('',\n        [\n          Validators.required,\n          Validators.minLength(this.min),\n          Validators.maxLength(this.max),\n        ])\n    });\n  }\n\n  private _initResetPasswordFormGroupBuilder() {\n    this.resetPasswordFormGroup = new FormGroup({\n      email: this.resetPasswordEmailFormControl = new FormControl('',\n        [\n          Validators.required,\n          Validators.pattern(EMAIL_REGEX)\n        ])\n    });\n  }\n\n  private _afterSignUpMiddleware(authProvider?: AuthProvider) {\n    if (authProvider === this.authProvider.ANONYMOUS) {\n      return this.signUpAnonymously();\n    }\n    return this.signUp();\n  }\n\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {AngularFireAuth} from '@angular/fire/auth';\nimport {User} from 'firebase';\nimport {Observable} from 'rxjs';\nimport {MatDialog} from '@angular/material/dialog';\nimport {UserComponent} from '..';\n\nexport interface LinkMenuItem {\n  text: string;\n  icon?: string;\n  // tslint:disable-next-line:ban-types\n  callback?: Function;\n}\n\n@Component({\n  selector: 'ngx-auth-firebaseui-avatar',\n  templateUrl: './ngx-auth-firebaseui-avatar.component.html',\n  styleUrls: ['./ngx-auth-firebaseui-avatar.component.scss']\n})\nexport class NgxAuthFirebaseuiAvatarComponent implements OnInit {\n\n  @Input()\n  layout: 'default' | 'simple' = 'default';\n\n  @Input()\n  canLogout = true;\n\n  @Input()\n  links: LinkMenuItem[];\n\n  @Input()\n  canViewAccount = true;\n\n  @Input()\n  canDeleteAccount = true;\n\n  @Input()\n  canEditAccount = true;\n\n  @Input()\n  textProfile = 'Profile';\n\n  @Input()\n  textSignOut = 'Sign Out';\n\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output()\n  onSignOut: EventEmitter<void> = new EventEmitter();\n\n  user: User;\n  user$: Observable<User | null>;\n  displayNameInitials: string | null;\n\n  constructor(public afa: AngularFireAuth,\n              public dialog: MatDialog) {\n  }\n\n  ngOnInit() {\n    this.user$ = this.afa.user;\n    this.user$.subscribe((user: User) => {\n      this.user = user;\n      this.displayNameInitials = user ? this.getDisplayNameInitials(user.displayName) : null;\n    });\n  }\n\n  getDisplayNameInitials(displayName: string | null): string | null {\n    if (!displayName) {\n      return null;\n    }\n    const initialsRegExp: RegExpMatchArray = displayName.match(/\\b\\w/g) || [];\n    const initials = ((initialsRegExp.shift() || '') + (initialsRegExp.pop() || '')).toUpperCase();\n    return initials;\n  }\n\n  openProfile() {\n    const dialogRef = this.dialog.open(UserComponent);\n    const instance = dialogRef.componentInstance;\n    instance.canDeleteAccount = this.canDeleteAccount;\n    instance.canEditAccount = this.canEditAccount;\n  }\n\n  async signOut() {\n    try {\n      await this.afa.signOut();\n      // Sign-out successful.\n      this.onSignOut.emit();\n    } catch (e) {\n      // An error happened.\n      console.error('An error happened while signing out!', e);\n    }\n  }\n}\n","import {Component, EventEmitter, Inject, Input, OnInit, Output, PLATFORM_ID, ViewEncapsulation} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {AuthProcessService, AuthProvider} from '../../services/auth-process.service';\nimport {Subscription} from 'rxjs';\nimport {NgxAuthFirebaseuiAnimations} from '../../animations';\nimport {isPlatformBrowser} from '@angular/common';\nimport {MatFormFieldAppearance} from '@angular/material/form-field';\nimport {ThemePalette} from '@angular/material/core';\n\n@Component({\n  selector: 'ngx-auth-firebaseui-login',\n  templateUrl: './ngx-auth-firebaseui-login.component.html',\n  styleUrls: ['./ngx-auth-firebaseui-login.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  animations: NgxAuthFirebaseuiAnimations\n})\nexport class NgxAuthFirebaseuiLoginComponent implements OnInit {\n\n  @Input() logoUrl: string;\n  @Input() providers: string[] | string = AuthProvider.ALL; //  google, facebook, twitter, github as array or all as one single string\n  @Input() appearance: MatFormFieldAppearance;\n  @Input() registrationEnabled = true;\n  @Input() resetPasswordEnabled = true;\n  @Input() messageOnAuthSuccess: string;\n  @Input() messageOnAuthError: string;\n\n  // i18n\n  @Input() titleText = 'LOGIN TO YOUR ACCOUNT';\n  @Input() rememberMeText = 'Remember Me';\n  @Input() loginButtonText = 'LOGIN';\n  @Input() orLabelText = 'OR';\n  @Input() forgotPasswordText = 'Forgot Password?';\n  @Input() dontHaveAnAccountText = 'Don\\'t have an account?';\n  @Input() createAccountButtonText = 'Create an account';\n\n  // i18n email\n  @Input() emailText = 'Email';\n  @Input() emailErrorRequiredText = 'Email is required';\n  @Input() emailErrorPatternText = 'Please enter a valid email address';\n\n  // i18n password\n  @Input() passwordText = 'Password';\n  @Input() passwordErrorRequiredText = 'Password is required';\n\n  // Events\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onSuccess: any;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onError: any;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onCreateAccountRequested: EventEmitter<void> = new EventEmitter<void>();\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onResetPasswordRequested: EventEmitter<void> = new EventEmitter<void>();\n\n  loginForm: FormGroup;\n  authProviders = AuthProvider;\n  onErrorSubscription: Subscription;\n  authenticationError = false;\n\n  constructor(\n    // tslint:disable-next-line:ban-types\n    @Inject(PLATFORM_ID) private platformId: Object,\n    public authProcess: AuthProcessService,\n    private formBuilder: FormBuilder) {\n    this.onSuccess = authProcess.onSuccessEmitter;\n    this.onError = authProcess.onErrorEmitter;\n  }\n\n  get color(): string | ThemePalette {\n    return this.authenticationError ? 'warn' : 'primary';\n  }\n\n  get colorAccent(): string | ThemePalette {\n    return this.authenticationError ? 'warn' : 'accent';\n  }\n\n  ngOnInit() {\n\n    if (isPlatformBrowser(this.platformId)) {\n      this.onErrorSubscription = this.onError.subscribe(() => this.authenticationError = true);\n    }\n\n    this.updateAuthSnackbarMessages();\n\n    this.loginForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n    });\n  }\n\n  public updateAuthSnackbarMessages(): void {\n    this.authProcess.messageOnAuthSuccess = this.messageOnAuthSuccess;\n    this.authProcess.messageOnAuthError = this.messageOnAuthError;\n  }\n\n  async login() {\n    return await this.authProcess.signInWith(this.authProviders.EmailAndPassword,\n      {\n        email: this.loginForm.controls.email.value,\n        password: this.loginForm.controls.password.value\n      }\n    );\n  }\n}\n","import {Component, EventEmitter, Inject, Input, OnDestroy, OnInit, Output, PLATFORM_ID, ViewEncapsulation} from '@angular/core';\nimport {AbstractControl, FormBuilder, FormGroup, ValidationErrors, ValidatorFn, Validators} from '@angular/forms';\nimport {Subject, Subscription} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\n\nimport {NgxAuthFirebaseuiAnimations} from '../../animations';\nimport {AuthProcessService} from '../../services/auth-process.service';\nimport {isPlatformBrowser} from '@angular/common';\nimport {MatFormFieldAppearance} from '@angular/material/form-field';\nimport {ThemePalette} from '@angular/material/core';\n\nexport const confirmPasswordValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n  if (!control.parent || !control) {\n    return null;\n  }\n\n  const password = control.parent.get('password');\n  const passwordConfirm = control.parent.get('passwordConfirm');\n\n  if (!password || !passwordConfirm) {\n    return null;\n  }\n\n  if (passwordConfirm.value === '') {\n    return null;\n  }\n\n  if (password.value === passwordConfirm.value) {\n    return null;\n  }\n\n  return {passwordsNotMatching: true};\n};\n\n@Component({\n  selector: 'ngx-auth-firebaseui-register',\n  templateUrl: './ngx-auth-firebaseui-register.component.html',\n  styleUrls: ['./ngx-auth-firebaseui-register.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  animations: NgxAuthFirebaseuiAnimations\n})\nexport class NgxAuthFirebaseuiRegisterComponent implements OnInit, OnDestroy {\n\n  @Input() logoUrl: string;\n  @Input() appearance: MatFormFieldAppearance;\n  @Input() tosUrl: string;\n  @Input() privacyPolicyUrl: string;\n\n  // i18n common\n  @Input() titleText = 'CREATE AN ACCOUNT';\n  @Input() readAndAcceptText = 'I read and accept the';\n  @Input() termsAndConditionsText = 'terms and conditions';\n  @Input() privacyPolicyText = 'privacy policy';\n  @Input() createAccountButtonText = 'CREATE AN ACCOUNT';\n  @Input() alreadyHaveAccountText = 'Already have an account?';\n  @Input() loginButtonText = 'LOGIN';\n\n  // i18n name\n  @Input() nameText = 'Name';\n  @Input() nameErrorRequiredText = 'Name is required';\n\n  // i18n email\n  @Input() emailText = 'Email';\n  @Input() emailErrorRequiredText = 'Email is required';\n  @Input() emailErrorPatternText = 'Please enter a valid email address';\n\n  // i18n password\n  @Input() passwordText = 'Password';\n  @Input() passwordErrorRequiredText = 'Password is required';\n  @Input() passwordConfirmationText = 'Password Confirmation';\n  @Input() passwordConfirmationErrorRequiredText = 'Password confirmation is required';\n  @Input() passwordErrorMatchText = 'Password must match';\n\n  // Events\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onSuccess: any;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onError: any;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onLoginRequested: EventEmitter<void> = new EventEmitter<void>();\n\n  registerForm: FormGroup;\n  onErrorSubscription: Subscription;\n  authenticationError = false;\n\n  // Private\n  private unsubscribeAll: Subject<any>;\n\n  // tslint:disable-next-line:ban-types\n  constructor(@Inject(PLATFORM_ID) private platformId: Object,\n              private formBuilder: FormBuilder,\n              public authProcess: AuthProcessService) {\n    // Configure the layout\n\n    // Set the private defaults\n    this.unsubscribeAll = new Subject();\n    this.onSuccess = authProcess.onSuccessEmitter;\n    this.onError = authProcess.onErrorEmitter;\n  }\n\n  get color(): string | ThemePalette {\n    return this.authenticationError ? 'warn' : 'primary';\n  }\n\n  get colorAccent(): string | ThemePalette {\n    return this.authenticationError ? 'warn' : 'accent';\n  }\n\n  ngOnInit(): void {\n    if (isPlatformBrowser(this.platformId)) {\n      this.onErrorSubscription = this.onError.subscribe(() => this.authenticationError = true);\n    }\n    this.registerForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required],\n      passwordConfirm: ['', [Validators.required, confirmPasswordValidator]],\n      tos: [''],\n      privacyPolicy: ['']\n    });\n\n    // If tos or privacy policy url set, ensure that the two form items are required\n    if (this.tosUrl) {\n      this.registerForm.controls.tos.setValidators(Validators.requiredTrue);\n    }\n\n    if (this.privacyPolicyUrl) {\n      this.registerForm.controls.privacyPolicy.setValidators(Validators.requiredTrue);\n    }\n\n    // Update the validity of the 'passwordConfirm' field\n    // when the 'password' field changes\n    this.registerForm\n      .controls\n      .password\n      .valueChanges.pipe(takeUntil(this.unsubscribeAll))\n      .subscribe(() => {\n        this.registerForm.controls.passwordConfirm.updateValueAndValidity();\n      });\n  }\n\n  /**\n   * On destroy\n   */\n  ngOnDestroy(): void {\n    // Unsubscribe from all subscriptions\n    this.unsubscribeAll.next();\n    this.unsubscribeAll.complete();\n  }\n\n  async createAccount() {\n    return await this.authProcess.signUp(\n      this.registerForm.controls.name.value,\n      {\n        email: this.registerForm.controls.email.value,\n        password: this.registerForm.controls.password.value\n      }\n    );\n  }\n}\n","import {Component, EventEmitter, forwardRef, Inject, Input, Output} from '@angular/core';\nimport {AngularFireAuth} from '@angular/fire/auth';\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\nimport {User} from 'firebase';\nimport {EMAIL_REGEX, PHONE_NUMBER_REGEX} from '..';\nimport {MatFormFieldAppearance} from '@angular/material/form-field';\nimport {NgxAuthFirebaseUIConfigToken} from '../../tokens';\nimport {NgxAuthFirebaseUIConfig} from '../../interfaces';\nimport { AuthProcessService } from '../../services/auth-process.service';\nimport { FirestoreSyncService } from '../../services/firestore-sync.service';\nimport { map, take } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'ngx-auth-firebaseui-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.scss']\n})\nexport class UserComponent {\n\n  @Input()\n  editMode: boolean;\n\n  @Input()\n  canLogout = true;\n\n  @Input()\n  canEditAccount = true;\n\n  @Input()\n  canDeleteAccount = true;\n\n  @Input()\n  appearance: MatFormFieldAppearance;\n\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output()\n  onSignOut: EventEmitter<void> = new EventEmitter();\n\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output()\n  onAccountEdited: EventEmitter<void> = new EventEmitter();\n\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output()\n  onAccountDeleted: EventEmitter<void> = new EventEmitter();\n\n  updateFormGroup: FormGroup;\n  updateNameFormControl: FormControl;\n  updateEmailFormControl: FormControl;\n  updatePhoneNumberFormControl: FormControl;\n\n  constructor(\n    public auth: AngularFireAuth,\n    public authProcess: AuthProcessService,\n    private fireStoreService: FirestoreSyncService,\n    @Inject(forwardRef(() => NgxAuthFirebaseUIConfigToken)) public config: NgxAuthFirebaseUIConfig\n  ) {\n  }\n\n  changeEditMode() {\n    if (this.editMode) {\n      this.reset();\n      this.editMode = false;\n    } else {\n      this.initUpdateFormGroup().subscribe((updateFormGroup: FormGroup) => {\n        this.updateFormGroup = updateFormGroup;\n        this.editMode = true;\n      });\n    }\n  }\n\n  reset() {\n    this.updateFormGroup.reset();\n    this.updateFormGroup.disable();\n    this.updateFormGroup = null;\n  }\n\n  async save() {\n    if (this.updateFormGroup.dirty) {\n      this.editMode = false;\n      const user = this.authProcess.user;\n      // ngx-auth-firebaseui-user.updateProfile()\n      // ngx-auth-firebaseui-user.updateEmail()\n      // console.log('form = ', this.updateFormGroup);\n\n      const snackBarMsg: string[] = [];\n\n      try {\n        if (this.updateNameFormControl.dirty) {\n          await user.updateProfile({displayName: this.updateNameFormControl.value});\n          snackBarMsg.push(`your name has been updated to ${user.displayName}`);\n        }\n\n        if (this.updateEmailFormControl.dirty) {\n          await user.updateEmail(this.updateEmailFormControl.value);\n          snackBarMsg.push(`your email has been updated to ${user.email}`);\n        }\n\n        if (this.updatePhoneNumberFormControl.dirty) {\n          await user.updatePhoneNumber(this.updatePhoneNumberFormControl.value);\n          console.log('phone number = ', this.updatePhoneNumberFormControl.value);\n          snackBarMsg.push(`your phone number has been updated to ${user.phoneNumber}`);\n        }\n\n        if (this.config.enableFirestoreSync) {\n          await this.fireStoreService.updateUserData(this.authProcess.parseUserInfo(user));\n        }\n\n      } catch (error) {\n        this.authProcess.showToast(error && error.message ? error.message : error);\n        console.error(error);\n      }\n\n\n      if (snackBarMsg.length > 0) {\n        this.authProcess.showToast(snackBarMsg.join('\\\\n'));\n      }\n      this.updateFormGroup.reset();\n    }\n  }\n\n  signOut() {\n    this.auth.signOut()\n      .then(() => this.onSignOut.emit())\n      .catch(e => console.error('An error happened while signing out!', e));\n  }\n\n  /**\n   * Delete the account of the current firebase ngx-auth-firebaseui-user\n   *\n   * On Success, emit the <onAccountDeleted> event and toast a msg!#\n   * Otherwise, log the and toast and error msg!\n   *\n   */\n  async deleteAccount() {\n    try {\n      const user = this.authProcess.user;\n\n      // await this.authProcess.deleteAccount();\n      await this.authProcess.user.delete();\n      // if (this.config.enableFirestoreSync) {\n      await this.fireStoreService.deleteUserData(user.uid);\n      // }\n      this.onAccountDeleted.emit();\n      this.editMode = false;\n      console.log('Your account has been successfully deleted!');\n      this.authProcess.showToast('Your account has been successfully deleted!');\n    } catch (error) {\n      console.log('Error while delete user account', error);\n      this.authProcess.showToast(`Error occurred while deleting your account: ${error.message}`);\n    }\n  }\n\n  protected initUpdateFormGroup(): Observable<FormGroup> {\n    return this.authProcess.user$.pipe(\n      take(1),\n      map((currentUser: User) => {\n      const updateFormGroup = new FormGroup({\n        name: this.updateNameFormControl = new FormControl(\n          {value: currentUser.displayName, disabled: this.editMode},\n          [\n            Validators.required,\n            Validators.minLength(this.config.nameMinLength),\n            Validators.maxLength(this.config.nameMaxLength)\n          ]\n        ),\n\n        email: this.updateEmailFormControl = new FormControl(\n          {value: currentUser.email, disabled: this.editMode},\n          [\n            Validators.required,\n            Validators.pattern(EMAIL_REGEX)\n          ]),\n\n        phoneNumber: this.updatePhoneNumberFormControl = new FormControl(\n          {value: currentUser.phoneNumber, disabled: this.editMode},\n          [Validators.pattern(PHONE_NUMBER_REGEX)])\n      });\n\n      updateFormGroup.enable();\n      return updateFormGroup;\n      })\n    );\n  }\n}\n","import {Component, Input, Output} from '@angular/core';\nimport {AuthProcessService, AuthProvider} from '../../services/auth-process.service';\nimport {NgxAuthFirebaseuiAnimations} from '../../animations';\nimport {LegalityDialogComponent} from '..';\nimport {LegalityDialogParams, LegalityDialogResult} from '../../interfaces';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\n\nexport enum Theme {\n  DEFAULT = 'default',\n  CLASSIC = 'classic',\n  STROKED = 'stroked',\n  FAB = 'fab',\n  MINI_FAB = 'mini-fab',\n  RAISED = 'raised',\n}\n\nexport enum Layout {\n  ROW = 'row',\n  COLUMN = 'column'\n}\n\n@Component({\n  selector: 'ngx-auth-firebaseui-providers',\n  templateUrl: 'auth.providers.component.html',\n  styleUrls: ['auth.providers.component.scss'],\n  animations: NgxAuthFirebaseuiAnimations\n})\nexport class AuthProvidersComponent {\n\n  @Input() theme: Theme; // theme: string = Theme.DEFAULT;\n  @Input() layout: string = Layout.ROW;\n  @Input() providers: AuthProvider[] | AuthProvider = AuthProvider.ALL; //  google, facebook, twitter, github, microsoft, yahoo\n\n  @Output() onSuccess: any;\n  @Output() onError: any;\n\n  @Input() tosUrl: string;\n  @Input() privacyPolicyUrl: string;\n  dialogRef: MatDialogRef<LegalityDialogComponent>;\n\n  themes = Theme;\n  authProvider = AuthProvider;\n\n  constructor(public authProcess: AuthProcessService, public dialog: MatDialog) {\n    this.onSuccess = authProcess.onSuccessEmitter;\n    this.onError = authProcess.onErrorEmitter;\n  }\n\n  processLegalSignUP(authProvider?: AuthProvider) {\n    if (this.tosUrl || this.privacyPolicyUrl) {\n      const params: LegalityDialogParams = {\n        tosUrl: this.tosUrl,\n        privacyPolicyUrl: this.privacyPolicyUrl,\n        authProvider\n      };\n\n      this.dialogRef = this.dialog.open(LegalityDialogComponent, {data: params});\n      this.dialogRef.afterClosed().subscribe((result: LegalityDialogResult) => {\n        if (result && result.checked) {\n          // this._afterSignUpMiddleware(result.authProvider).then(() => this.signUpFormGroup.reset());\n          this.authProcess.signInWith(authProvider);\n        }\n        this.dialogRef = null;\n      });\n    } else {\n      // this._afterSignUpMiddleware(authProvider).then(() => this.signUpFormGroup.reset());\n      this.authProcess.signInWith(authProvider);\n    }\n  }\n\n}\n","// import * as firebase from 'firebase';\n\nexport interface NgxAuthFirebaseUIConfig {\n  // authNextURL?: string, // popup or redirect\n  // tosUrl?: string, // term of services url\n  // ppUrl?: string, // privacy policy url\n  // authProviders?: Array<AuthProvider>,\n  // languageCode?: string, // todo: 28.3.18\n  authGuardFallbackURL?: string;\n  authGuardLoggedInURL?: string;\n  enableFirestoreSync?: boolean;\n\n  // Toasts\n  toastMessageOnAuthSuccess?: boolean;\n  toastMessageOnAuthError?: boolean;\n\n  // Password length min/max in forms independently of each componenet min/max.\n  // `min/max` input parameters in components should be within this range.\n  passwordMaxLength?: number;\n  passwordMinLength?: number;\n\n  // Same as password but for the name\n  nameMaxLength?: number;\n  nameMinLength?: number;\n\n  // If set, sign-in/up form is not available until email has been verified.\n  // Plus protected routes are still protected even though user is connected.\n  guardProtectedRoutesUntilEmailIsVerified?: boolean;\n\n  // Control whether or not email verification is used\n  enableEmailVerification?: boolean;\n}\n\nexport const defaultAuthFirebaseUIConfig: NgxAuthFirebaseUIConfig = {\n  // authMethod: 'redirect',\n  // authProviders: [new GoogleAuthProvider(), new FacebookAuthProvider(), new TwitterAuthProvider(), new GithubAuthProvider()],\n  enableFirestoreSync: true,\n  toastMessageOnAuthSuccess: true,\n  toastMessageOnAuthError: true,\n  authGuardFallbackURL: '/',\n  authGuardLoggedInURL: '/',\n\n  // Password length min/max in forms independently of each componenet min/max.\n  // `min/max` input parameters in components should be within this range.\n  passwordMaxLength: 60,\n  passwordMinLength: 8,\n\n  // Same as password but for the name\n  nameMaxLength: 50,\n  nameMinLength: 2,\n\n  // If set, sign-in/up form is not available until email has been verified.\n  // Plus protected routes are still protected even though user is connected.\n  guardProtectedRoutesUntilEmailIsVerified: true,\n\n  // Default to email verification on\n  enableEmailVerification: true\n};\n\n// Merge default config with user provided config.\nexport function ngxAuthFirebaseUIConfigFactory(userProvidedConfig: NgxAuthFirebaseUIConfig): NgxAuthFirebaseUIConfig {\n  return Object.assign({}, defaultAuthFirebaseUIConfig, userProvidedConfig);\n}\n","import {Inject, Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {NgxAuthFirebaseUIConfig} from '../interfaces';\nimport {NgxAuthFirebaseUIConfigToken} from '../tokens';\nimport {AuthProcessService} from '../services/auth-process.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoggedInGuard implements CanActivate {\n  constructor(\n    @Inject(NgxAuthFirebaseUIConfigToken)\n    private config: NgxAuthFirebaseUIConfig,\n    private router: Router,\n    private authProcess: AuthProcessService\n  ) {\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.authProcess.afa.user.pipe(\n      map(user => {\n        if (user) {\n          if (this.config.guardProtectedRoutesUntilEmailIsVerified && !user.emailVerified && !user.isAnonymous) {\n            if (this.config.authGuardFallbackURL) {\n              this.router.navigate([`${this.config.authGuardFallbackURL}`], {queryParams: {redirectUrl: state.url}});\n            }\n            return false;\n          } else {\n            return true;\n          }\n        } else {\n          if (this.config.authGuardFallbackURL) {\n            this.router.navigate([`/${this.config.authGuardFallbackURL}`], {queryParams: {redirectUrl: state.url}});\n          }\n          return false;\n        }\n      })\n    );\n  }\n}\n","// @angular/*\nimport {CommonModule} from '@angular/common';\nimport {ModuleWithProviders, NgModule} from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {HttpClientModule} from '@angular/common/http';\nimport {RouterModule} from '@angular/router';\nimport {FlexLayoutModule} from '@angular/flex-layout';\n// @angular/fire\nimport {FIREBASE_APP_NAME, FIREBASE_OPTIONS, FirebaseAppConfig} from '@angular/fire';\nimport {AngularFireAuthModule} from '@angular/fire/auth';\nimport {AngularFirestoreModule} from '@angular/fire/firestore';\n// @angular/material\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatCheckboxModule} from '@angular/material/checkbox';\nimport {MatChipsModule} from '@angular/material/chips';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatIconModule, MatIconRegistry} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\nimport {MatTabsModule} from '@angular/material/tabs';\nimport {MatTooltipModule} from '@angular/material/tooltip';\n\nimport {MatPasswordStrengthModule} from '@angular-material-extensions/password-strength';\n\n\nimport {NgxAuthFirebaseuiLoginComponent} from './components/ngx-auth-firebaseui-login/ngx-auth-firebaseui-login.component';\nimport {NgxAuthFirebaseuiRegisterComponent} from './components/ngx-auth-firebaseui-register/ngx-auth-firebaseui-register.component';\n\n\nimport {DomSanitizer} from '@angular/platform-browser';\n// ngx-auth-firebaseui\n// components\nimport {AuthComponent} from './components/ngx-auth-firebaseui/auth.component';\nimport {UserComponent} from './components/ngx-auth-firebaseui-user/user.component';\nimport {AuthProvidersComponent} from './components/providers/auth.providers.component';\nimport {EmailConfirmationComponent} from './components/email-confirmation/email-confirmation.component';\nimport {NgxAuthFirebaseUIConfig, ngxAuthFirebaseUIConfigFactory} from './interfaces/config.interface';\nimport {NgxAuthFirebaseuiAvatarComponent} from './components/ngx-auth-firebaseui-avatar/ngx-auth-firebaseui-avatar.component';\nimport {LegalityDialogComponent} from './components/legality-dialog/legality-dialog.component';\n// guards\nimport {LoggedInGuard} from './guards/logged-in.guard';\n// services\nimport {FirestoreSyncService} from './services/firestore-sync.service';\nimport {AuthProcessService} from './services/auth-process.service';\nimport {NgxAuthFirebaseUIConfigToken, UserProvidedConfigToken} from './tokens';\n// interfaces\n// ###################################################################################################\n// Export module's public API\n// components\nexport {LegalityDialogComponent} from './components/legality-dialog/legality-dialog.component';\nexport {LinkMenuItem, NgxAuthFirebaseuiAvatarComponent} from './components/ngx-auth-firebaseui-avatar/ngx-auth-firebaseui-avatar.component';\nexport {UserComponent} from './components/ngx-auth-firebaseui-user/user.component';\nexport {AuthComponent} from './components/ngx-auth-firebaseui/auth.component';\nexport {AuthProvidersComponent, Layout, Theme} from './components/providers/auth.providers.component';\nexport {NgxAuthFirebaseuiLoginComponent} from './components/ngx-auth-firebaseui-login/ngx-auth-firebaseui-login.component';\nexport {NgxAuthFirebaseuiRegisterComponent} from './components/ngx-auth-firebaseui-register/ngx-auth-firebaseui-register.component';\n\n\n// guards\nexport {LoggedInGuard} from './guards/logged-in.guard';\n// interfaces\nexport {NgxAuthFirebaseUIConfig} from './interfaces/config.interface';\n// services\nexport {AuthProcessService, AuthProvider} from './services/auth-process.service';\nexport {FirestoreSyncService} from './services/firestore-sync.service';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    // HTTP\n    RouterModule,\n    HttpClientModule,\n    // FLEX_LAYOUT\n    FlexLayoutModule,\n    // FORMS\n    FormsModule,\n    ReactiveFormsModule,\n    // MATERIAL2\n    MatTabsModule,\n    MatCardModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    MatSnackBarModule,\n    MatDividerModule,\n    MatChipsModule,\n    MatTooltipModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    MatProgressSpinnerModule,\n    MatProgressBarModule,\n    MatDialogModule,\n    MatMenuModule,\n    // ANGULAR MATERIAL EXTENSIONS\n    MatPasswordStrengthModule,\n    // ANGULARFIRE2\n    AngularFireAuthModule,\n    AngularFirestoreModule,\n  ],\n  exports: [\n    AuthComponent,\n    UserComponent,\n    NgxAuthFirebaseuiAvatarComponent,\n    AuthProvidersComponent,\n    EmailConfirmationComponent,\n    // LoggedInGuard,\n    AngularFireAuthModule,\n    AngularFirestoreModule,\n    NgxAuthFirebaseuiLoginComponent,\n    NgxAuthFirebaseuiRegisterComponent\n  ],\n  declarations: [\n    AuthComponent,\n    UserComponent,\n    NgxAuthFirebaseuiAvatarComponent,\n    AuthProvidersComponent,\n    EmailConfirmationComponent,\n    LegalityDialogComponent,\n    NgxAuthFirebaseuiLoginComponent,\n    NgxAuthFirebaseuiRegisterComponent\n  ],\n  entryComponents: [\n    UserComponent,\n    LegalityDialogComponent\n  ]\n})\nexport class NgxAuthFirebaseUIModule {\n  constructor(private iconRegistry: MatIconRegistry, private sanitizer: DomSanitizer, auth: AuthProcessService) {\n    auth.listenToUserEvents();\n    this.registerProviderIcons();\n  }\n\n  static forRoot(\n    configFactory: FirebaseAppConfig,\n    appNameFactory: () => string | undefined = () => undefined,\n    config: NgxAuthFirebaseUIConfig = {}\n  ): ModuleWithProviders {\n    return {\n      ngModule: NgxAuthFirebaseUIModule,\n      providers:\n        [\n          {\n            provide: FIREBASE_OPTIONS,\n            useValue: configFactory\n          },\n          {\n            provide: FIREBASE_APP_NAME,\n            useFactory: appNameFactory\n          },\n          {provide: UserProvidedConfigToken, useValue: config},\n          {\n            provide: NgxAuthFirebaseUIConfigToken,\n            useFactory: ngxAuthFirebaseUIConfigFactory,\n            deps: [UserProvidedConfigToken]\n          },\n          AuthProcessService,\n          FirestoreSyncService,\n          LoggedInGuard\n        ]\n    };\n  }\n\n  registerProviderIcons() {\n    this.iconRegistry\n      .addSvgIcon('google', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/google.svg'))\n      .addSvgIcon('apple', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/apple.svg'))\n      .addSvgIcon('google-colored', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/google.svg'))\n      .addSvgIcon('facebook', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/facebook.svg'))\n      .addSvgIcon('twitter', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/twitter.svg'))\n      .addSvgIcon('github', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/github-circle.svg'))\n      .addSvgIcon('microsoft', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/microsoft.svg'))\n      .addSvgIcon('yahoo', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/yahoo.svg'))\n      .addSvgIcon('phone', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/phone.svg'));\n  }\n}\n"],"names":["Accounts","AngularFirestore","Injectable","InjectionToken","firebase","AuthProvider","EventEmitter","BehaviorSubject","map","take","AngularFireAuth","Inject","forwardRef","MatSnackBar","MatSnackBarConfig","MAT_SNACK_BAR_DEFAULT_OPTIONS","Router","ChangeDetectorRef","Input","Output","ViewChild","Component","ChangeDetectionStrategy","MatDialogRef","MAT_DIALOG_DATA","animation","style","animate","trigger","transition","useAnimation","state","query","stagger","animateChild","isPlatformBrowser","FormGroup","FormControl","Validators","PLATFORM_ID","MatDialog","ActivatedRoute","MatTabGroup","MatPasswordStrengthComponent","FormBuilder","ViewEncapsulation","Subject","takeUntil","Theme","Layout","FIREBASE_OPTIONS","FIREBASE_APP_NAME","MatIconRegistry","DomSanitizer","NgModule","CommonModule","RouterModule","HttpClientModule","FlexLayoutModule","FormsModule","ReactiveFormsModule","MatTabsModule","MatCardModule","MatInputModule","MatButtonModule","MatIconModule","MatSnackBarModule","MatDividerModule","MatChipsModule","MatTooltipModule","MatDialogModule","MatCheckboxModule","MatProgressSpinnerModule","MatProgressBarModule","MatMenuModule","MatPasswordStrengthModule","AngularFireAuthModule","AngularFirestoreModule"],"mappings":"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"}