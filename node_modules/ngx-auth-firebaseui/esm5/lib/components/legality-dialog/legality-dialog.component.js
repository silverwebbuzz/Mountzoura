import { __decorate, __param } from "tslib";
import { Component, Inject } from '@angular/core';
import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';
var LegalityDialogComponent = /** @class */ (function () {
    function LegalityDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        // tslint:disable-next-line:variable-name
        this._disableConfirmActionButton = false;
    }
    Object.defineProperty(LegalityDialogComponent.prototype, "disableConfirmActionButton", {
        get: function () {
            if (this.data.tosUrl && this.data.privacyPolicyUrl) {
                this._disableConfirmActionButton = !(this.checkTOS && this.checkPrivacyPolicy);
            }
            else if (this.data.tosUrl && !this.data.privacyPolicyUrl) {
                this._disableConfirmActionButton = !this.checkTOS;
            }
            else if (!this.data.tosUrl && this.data.privacyPolicyUrl) {
                this._disableConfirmActionButton = !this.checkPrivacyPolicy;
            }
            return this._disableConfirmActionButton;
        },
        enumerable: true,
        configurable: true
    });
    LegalityDialogComponent.prototype.closeDialog = function () {
        var result = {
            checked: !this.disableConfirmActionButton,
            authProvider: this.data.authProvider
        };
        this.dialogRef.close(result);
    };
    LegalityDialogComponent.ctorParameters = function () { return [
        { type: MatDialogRef },
        { type: undefined, decorators: [{ type: Inject, args: [MAT_DIALOG_DATA,] }] }
    ]; };
    LegalityDialogComponent = __decorate([
        Component({
            selector: 'ngx-auth-firebaseui-legality-dialog',
            template: "<h1 matDialogTitle>Legal requirements</h1>\n\n<mat-dialog-content>\n  <div fxLayout=\"column\" fxLayoutAlign=\"start\">\n    <mat-checkbox *ngIf=\"this.data.tosUrl\" [(ngModel)]=\"checkTOS\">\n      I agree to the\n      <span>&nbsp;</span>\n      <a [href]=\"this.data.tosUrl\"\n         target=\"_blank\">\n        Terms of Service and Conditions\n      </a>\n    </mat-checkbox>\n\n    <mat-checkbox *ngIf=\"this.data.privacyPolicyUrl\"\n                  [(ngModel)]=\"checkPrivacyPolicy\">\n      I have read and agree to the\n      <span>&nbsp;</span>\n      <a [href]=\"this.data.privacyPolicyUrl\"\n         target=\"_blank\">\n        Privacy\n      </a>\n    </mat-checkbox>\n  </div>\n</mat-dialog-content>\n\n<mat-dialog-actions>\n  <button color=\"warn\"\n          id=\"decline-action\"\n          mat-raised-button\n          matDialogClose>Decline\n  </button>\n  <button (click)=\"closeDialog()\"\n          [disabled]=\"disableConfirmActionButton\"\n          color=\"primary\"\n          id=\"confirm-action\"\n          mat-raised-button>Confirm\n  </button>\n</mat-dialog-actions>\n\n",
            styles: ["::ng-deep .mat-checkbox-label{display:flex;flex-wrap:wrap}mat-dialog-content div{margin-top:1.5rem}mat-dialog-actions{margin-top:1rem}"]
        }),
        __param(1, Inject(MAT_DIALOG_DATA))
    ], LegalityDialogComponent);
    return LegalityDialogComponent;
}());
export { LegalityDialogComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGVnYWxpdHktZGlhbG9nLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25neC1hdXRoLWZpcmViYXNldWkvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9sZWdhbGl0eS1kaWFsb2cvbGVnYWxpdHktZGlhbG9nLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDaEQsT0FBTyxFQUFDLGVBQWUsRUFBRSxZQUFZLEVBQUMsTUFBTSwwQkFBMEIsQ0FBQztBQVF2RTtJQUtFLGlDQUFtQixTQUFnRCxFQUN2QixJQUEwQjtRQURuRCxjQUFTLEdBQVQsU0FBUyxDQUF1QztRQUN2QixTQUFJLEdBQUosSUFBSSxDQUFzQjtRQUd0RSx5Q0FBeUM7UUFDakMsZ0NBQTJCLEdBQUcsS0FBSyxDQUFDO0lBSDVDLENBQUM7SUFLRCxzQkFBSSwrREFBMEI7YUFBOUI7WUFDRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQ2xELElBQUksQ0FBQywyQkFBMkIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQzthQUNoRjtpQkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtnQkFDMUQsSUFBSSxDQUFDLDJCQUEyQixHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQzthQUNuRDtpQkFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtnQkFDMUQsSUFBSSxDQUFDLDJCQUEyQixHQUFHLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDO2FBQzdEO1lBQ0QsT0FBTyxJQUFJLENBQUMsMkJBQTJCLENBQUM7UUFDMUMsQ0FBQzs7O09BQUE7SUFFRCw2Q0FBVyxHQUFYO1FBQ0UsSUFBTSxNQUFNLEdBQXlCO1lBQ25DLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQywwQkFBMEI7WUFDekMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWTtTQUNyQyxDQUFDO1FBQ0YsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDL0IsQ0FBQzs7Z0JBeEI2QixZQUFZO2dEQUM3QixNQUFNLFNBQUMsZUFBZTs7SUFOeEIsdUJBQXVCO1FBTG5DLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxxQ0FBcUM7WUFDL0MsNmxDQUErQzs7U0FFaEQsQ0FBQztRQU9hLFdBQUEsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFBO09BTnpCLHVCQUF1QixDQStCbkM7SUFBRCw4QkFBQztDQUFBLEFBL0JELElBK0JDO1NBL0JZLHVCQUF1QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LCBJbmplY3R9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtNQVRfRElBTE9HX0RBVEEsIE1hdERpYWxvZ1JlZn0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcbmltcG9ydCB7TGVnYWxpdHlEaWFsb2dQYXJhbXMsIExlZ2FsaXR5RGlhbG9nUmVzdWx0fSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbmd4LWF1dGgtZmlyZWJhc2V1aS1sZWdhbGl0eS1kaWFsb2cnLFxuICB0ZW1wbGF0ZVVybDogJy4vbGVnYWxpdHktZGlhbG9nLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbGVnYWxpdHktZGlhbG9nLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTGVnYWxpdHlEaWFsb2dDb21wb25lbnQge1xuXG4gIGNoZWNrVE9TOiBib29sZWFuO1xuICBjaGVja1ByaXZhY3lQb2xpY3k6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IocHVibGljIGRpYWxvZ1JlZjogTWF0RGlhbG9nUmVmPExlZ2FsaXR5RGlhbG9nQ29tcG9uZW50PixcbiAgICAgICAgICAgICAgQEluamVjdChNQVRfRElBTE9HX0RBVEEpIHB1YmxpYyBkYXRhOiBMZWdhbGl0eURpYWxvZ1BhcmFtcykge1xuICB9XG5cbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbiAgcHJpdmF0ZSBfZGlzYWJsZUNvbmZpcm1BY3Rpb25CdXR0b24gPSBmYWxzZTtcblxuICBnZXQgZGlzYWJsZUNvbmZpcm1BY3Rpb25CdXR0b24oKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZGF0YS50b3NVcmwgJiYgdGhpcy5kYXRhLnByaXZhY3lQb2xpY3lVcmwpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVDb25maXJtQWN0aW9uQnV0dG9uID0gISh0aGlzLmNoZWNrVE9TICYmIHRoaXMuY2hlY2tQcml2YWN5UG9saWN5KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS50b3NVcmwgJiYgIXRoaXMuZGF0YS5wcml2YWN5UG9saWN5VXJsKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlQ29uZmlybUFjdGlvbkJ1dHRvbiA9ICF0aGlzLmNoZWNrVE9TO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuZGF0YS50b3NVcmwgJiYgdGhpcy5kYXRhLnByaXZhY3lQb2xpY3lVcmwpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVDb25maXJtQWN0aW9uQnV0dG9uID0gIXRoaXMuY2hlY2tQcml2YWN5UG9saWN5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZGlzYWJsZUNvbmZpcm1BY3Rpb25CdXR0b247XG4gIH1cblxuICBjbG9zZURpYWxvZygpIHtcbiAgICBjb25zdCByZXN1bHQ6IExlZ2FsaXR5RGlhbG9nUmVzdWx0ID0ge1xuICAgICAgY2hlY2tlZDogIXRoaXMuZGlzYWJsZUNvbmZpcm1BY3Rpb25CdXR0b24sXG4gICAgICBhdXRoUHJvdmlkZXI6IHRoaXMuZGF0YS5hdXRoUHJvdmlkZXJcbiAgICB9O1xuICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKHJlc3VsdCk7XG4gIH1cblxufVxuIl19